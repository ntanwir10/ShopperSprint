# Production Environment Configuration
# Copy this file to .env.production and fill in your actual values

# Server Configuration
NODE_ENV=production
PORT=3001
FRONTEND_URL=https://yourdomain.com

# Database Configuration
DATABASE_URL=postgresql://username:password@localhost:5432/price_tracker_prod
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=price_tracker_prod
DATABASE_USER=your_db_user
DATABASE_PASSWORD=your_secure_password

# Redis Configuration
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password
REDIS_DB=0

# Scraping Configuration
SCRAPING_ENABLED=true
MAX_CONCURRENT_SCRAPES=3
RATE_LIMIT_DELAY=2000
SCRAPING_TIMEOUT=30000
RETRY_ATTEMPTS=3
USER_AGENT_ROTATION=true
PROXY_ROTATION=false
STEALTH_MODE=true

# Caching Configuration
CACHING_ENABLED=true
CACHE_TTL=900
MAX_CACHE_SIZE=1000
CACHE_CLEANUP_INTERVAL=300000

# Monitoring Configuration
MONITORING_ENABLED=true
HEALTH_CHECK_INTERVAL=300000
SUCCESS_RATE_THRESHOLD=80
RESPONSE_TIME_THRESHOLD=10000
ERROR_COUNT_THRESHOLD=5
METRICS_RETENTION=86400000

# Security Configuration
RATE_LIMIT_DISABLED=false
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
HELMET_ENABLED=true
CSP_ENABLED=true

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_DESTINATION=both
LOG_FILE_PATH=/var/log/price-tracker/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# Performance Configuration
COMPRESSION_ENABLED=true
RESPONSE_TIME_LIMIT=30000
MAX_PAYLOAD_SIZE=10mb
KEEP_ALIVE_ENABLED=true
KEEP_ALIVE_TIMEOUT=65000

# Database Connection Pool
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_ACQUIRE_TIMEOUT=30000
DB_CREATE_TIMEOUT=30000
DB_DESTROY_TIMEOUT=5000
DB_IDLE_TIMEOUT=30000
DB_REAP_INTERVAL=1000

# Redis Connection Pool
REDIS_POOL_MIN=2
REDIS_POOL_MAX=10
REDIS_ACQUIRE_TIMEOUT=30000
REDIS_CREATE_TIMEOUT=30000
REDIS_DESTROY_TIMEOUT=5000
REDIS_IDLE_TIMEOUT=30000
REDIS_REAP_INTERVAL=1000

# Redis Retry Strategy
REDIS_RETRIES=3
REDIS_RETRY_FACTOR=2
REDIS_MIN_DELAY=1000
REDIS_MAX_DELAY=10000

# WebSocket Configuration
WEBSOCKET_ENABLED=true
WEBSOCKET_PORT=3002
WEBSOCKET_PATH=/ws

# External Services (if using)
# GOOGLE_API_KEY=your_google_api_key
# GOOGLE_CX=your_custom_search_engine_id
# ALGOLIA_APP_ID=your_algolia_app_id
# ALGOLIA_SEARCH_KEY=your_algolia_search_key
# ALGOLIA_ADMIN_KEY=your_algolia_admin_key

# Monitoring and Alerting (if using)
# SLACK_WEBHOOK_URL=your_slack_webhook_url
# DISCORD_WEBHOOK_URL=your_discord_webhook_url
# EMAIL_SMTP_HOST=smtp.gmail.com
# EMAIL_SMTP_PORT=587
# EMAIL_USER=your_email@gmail.com
# EMAIL_PASSWORD=your_app_password

# SSL/TLS Configuration (if using reverse proxy)
# SSL_ENABLED=true
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem

# Backup Configuration
# BACKUP_ENABLED=true
# BACKUP_SCHEDULE=0 2 * * * # Daily at 2 AM
# BACKUP_RETENTION_DAYS=30
# BACKUP_PATH=/var/backups/price-tracker

# Metrics and Analytics
# PROMETHEUS_ENABLED=true
# PROMETHEUS_PORT=9090
# GRAFANA_ENABLED=true
# GRAFANA_PORT=3000
